(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("CoreHome"),require("vue"),require("CorePluginsAdmin")):"function"===typeof define&&define.amd?define(["CoreHome",,"CorePluginsAdmin"],t):"object"===typeof exports?exports["GroupPermissions"]=t(require("CoreHome"),require("vue"),require("CorePluginsAdmin")):e["GroupPermissions"]=t(e["CoreHome"],e["Vue"],e["CorePluginsAdmin"])})("undefined"!==typeof self?self:this,(function(e,t,r){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="plugins/GroupPermissions/vue/dist/",r(r.s="fae3")}({"19dc":function(t,r){t.exports=e},"8bbf":function(e,r){e.exports=t},a5a2:function(e,t){e.exports=r},fae3:function(e,t,r){"use strict";if(r.r(t),r.d(t,"ManageGroupMembers",(function(){return M})),"undefined"!==typeof window){var n=window.document.currentScript,o=n&&n.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(r.p=o[1])}var i=r("8bbf"),s={class:"entityContainer",style:{width:"600px","margin-top":"16px"}},a=["value"],l=["value"],u={class:"entityTable dataTable",id:"groupPermissionsGroup",style:{display:"inline-table",width:"550px"}},d={class:"login"},c={class:"text-center"},p=["onClick","title"],m=Object(i["createElementVNode"])("span",{class:"icon-delete"},null,-1),f=[m],b=Object(i["createElementVNode"])("div",{id:"accessUpdated",style:{"vertical-align":"top"}},null,-1),g={style:{"margin-top":"70px"}},j={class:"groupPermissionsGroupAddUserWrapper"},v=["value"],O={class:"ui-confirm",id:"confirmRemoveUser",ref:"confirmRemoveUser"},y=["textContent"],N=["value"],G=["value"];function h(e,t,r,n,o,m){var h=Object(i["resolveComponent"])("Field"),U=Object(i["resolveComponent"])("ActivityIndicator");return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[Object(i["createElementVNode"])("h3",null,Object(i["toDisplayString"])(e.translate("GroupPermissions_ManageGroupMembers")),1),Object(i["createElementVNode"])("div",s,[Object(i["createElementVNode"])("input",{type:"hidden",id:"groupPermissionsCurrentIdGroup",value:e.selectedIdGroup},null,8,a),Object(i["createElementVNode"])("input",{type:"hidden",id:"groupPermissionsCurrentGroupName",value:e.selectedGroupName},null,8,l),Object(i["createElementVNode"])("table",u,[Object(i["createElementVNode"])("thead",null,[Object(i["createElementVNode"])("tr",null,[Object(i["createElementVNode"])("th",null,Object(i["toDisplayString"])(e.translate("General_Username")),1),Object(i["createElementVNode"])("th",null,Object(i["toDisplayString"])(e.translate("GroupPermissions_RemoveFromGroup")),1)])]),Object(i["createElementVNode"])("tbody",null,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.assignedUsers,(function(t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",{key:t},[Object(i["createElementVNode"])("td",d,Object(i["toDisplayString"])(t),1),Object(i["createElementVNode"])("td",c,[Object(i["createElementVNode"])("button",{class:"groupPermissionsRemoveUser btn btn-flat",onClick:function(r){return e.removeUser(t)},title:e.translate("GroupPermissions_RemoveFromGroup"),"data-login":"{{ login }}"},f,8,p)])])})),128))])]),b]),Object(i["createElementVNode"])("div",g,[Object(i["createElementVNode"])("h3",null,Object(i["toDisplayString"])(e.translate("GroupPermissions_AddUserToGroup")),1),Object(i["createElementVNode"])("div",j,[Object(i["createVNode"])(h,{uicontrol:"select",id:"groupPermissionsGroupAddUserSelect",options:e.users,placeholder:e.translate("GroupPermissions_SelectNewUser"),modelValue:e.addUserName,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.addUserName=t})},null,8,["options","placeholder","modelValue"]),Object(i["createElementVNode"])("input",{id:"groupPermissionsGroupAddUserButton",type:"button",onClick:t[1]||(t[1]=function(){return e.addUser&&e.addUser.apply(e,arguments)}),value:e.translate("GroupPermissions_AddUserToGroupButton"),style:{padding:"8px"}},null,8,v)])]),Object(i["createVNode"])(U,{loading:e.isLoading,style:{"padding-top":"10px"}},null,8,["loading"]),Object(i["createElementVNode"])("div",O,[Object(i["createElementVNode"])("h2",{textContent:Object(i["toDisplayString"])(e.getConfirmText)},null,8,y),Object(i["createElementVNode"])("input",{role:"yes",type:"button",value:e.translate("General_Yes")},null,8,N),Object(i["createElementVNode"])("input",{role:"no",type:"button",value:e.translate("General_No")},null,8,G)],512)],64)}var U=r("a5a2"),E=r("19dc"),P={class:"loadingPiwik"},V=Object(i["createElementVNode"])("img",{src:"plugins/Morpheus/images/loading-blue.gif",alt:""},null,-1);function x(e,t,r,n,o,s){return Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("div",P,[V,Object(i["createElementVNode"])("span",null,Object(i["toDisplayString"])(e.loadingMessage),1)],512)),[[i["vShow"],e.loading]])}
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */function C(e){if(!e)return"";for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=r;return 1===r.length&&r[0]&&Array.isArray(r[0])&&(o=r[0]),window._pk_translate(e,o)}var _=Object(i["defineComponent"])({props:{loading:{type:Boolean,required:!0,default:!1},loadingMessage:{type:String,required:!1,default:C("General_LoadingData")}}});_.render=x;var A=_,S=Object(i["defineComponent"])({components:{ActivityIndicator:A,Field:U["Field"]},data:function(){return{addUserName:"",removeUserName:"",assignedUsers:[],isLoading:!1}},props:{selectedIdGroup:{type:Number,required:!0},selectedGroupName:{type:String,required:!0},users:{type:Object,required:!0},groupUsers:{type:Object,required:!0}},methods:{addUser:function(){var e=this;this.isLoading=!0,E["AjaxHelper"].post({module:"API",format:"json",method:"GroupPermissions.addUserToGroup"},{idGroup:this.selectedIdGroup,login:this.addUserName},{errorElement:"#ajaxErrorManageGroupMember"}).then((function(){e.assignedUsers.push(e.addUserName),e.assignedUsers.sort(),e.addUserName=""})).finally((function(){e.isLoading=!1}))},removeUser:function(e){var t=this;this.removeUserName=e;var r=function(){t.isLoading=!0,E["AjaxHelper"].post({module:"API",format:"json",method:"GroupPermissions.removeUserFromGroup"},{idGroup:t.selectedIdGroup,login:e},{errorElement:"#ajaxErrorManageGroupMember"}).then((function(){var r=t.assignedUsers.indexOf(e);t.assignedUsers.splice(r,1),t.removeUserName=""})).finally((function(){t.isLoading=!1}))};E["Matomo"].helper.modalConfirm("#confirmRemoveUser",{yes:r})}},computed:{getConfirmText:function(){return Object(E["translate"])("GroupPermissions_RemoveFromGroupConfirm",this.removeUserName,this.selectedGroupName)}},created:function(){var e=this;this.groupUsers.forEach((function(t){e.assignedUsers.push(t)}))}});S.render=h;var M=S;
/*!
 * Matomo - free/libre analytics platform
 *
 * @link https://matomo.org
 * @license http://www.gnu.org/licenses/gpl-3.0.html GPL v3 or later
 */}})}));
//# sourceMappingURL=GroupPermissions.umd.min.js.map